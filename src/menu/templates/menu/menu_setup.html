d{% extends 'dashboard/dashboard_base.html' %}
{% load static mptt_tags custom_tags %}

{% block additional_css %}
{% endblock %}

{% block content %}

<!--**********************************
	Content body start
***********************************-->

       <div class="content-body">
            <div class="container-fluid">
                <div class="page-titles">
					<h4>Nestable</h4>
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="javascript:void(0)">Advanced</a></li>
						<li class="breadcrumb-item active"><a href="javascript:void(0)">Nestable</a></li>
					</ol>
                </div>
                <!-- row -->

                <!-- Nestable -->
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Nestable</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card-content">
                                            <div class="nestable">
											<form method="post" id="MenuItem2Form">
                                                <div class="dd" id="nestable">
                                                    <ol class="dd-list">
                                                        <li class="dd-item" data-id="1">
                                                            <div class="dd-handle">Item 1</div>
                                                        </li>
                                                        <li class="dd-item" data-id="2">
                                                            <div class="dd-handle">Item 2</div>
                                                        </li>

                                                    </ol>
                                                </div>
												</form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
										<div class="card-body">
											<div class="nestable">
												<form method="post" id="MenuItem2Form">
													<div class="dd" id="nestable2">
														<ol class="dd-list" id="setMenu">
														{% recursetree menu_items %}
														<li class="dd-item accordion position-relative"  data-id="{{node.id}}">
															<div class="dd-handle">{{ node.title}}</div>
															{% comment %} <div class="dd-handle"><i class="fa-solid fa-arrows-up-down-left-right"></i> {{ node.title}}</div> {% endcomment %}
														
																<div class="accordion-item position-absolute w-100" id="accordionExample-1">
																	
																				{% comment %} <div class="move-media dd-handle col-1" style="cursor: move; width: 35px;">
																					<i class="fa-solid fa-arrows-up-down-left-right"></i>
																				</div> {% endcomment %}
																				
																					<button type="button" class="btn btn-xs btn-link collapsed position-absolute top-036 end-0"
																						data-bs-toggle="collapse" data-bs-target="#collapse-{{node.id}}" aria-expanded="false"
																						style="z-index:1000;">
																						<i class="fa-solid fa-caret-down text-white"></i>
																						{% comment %} <h1>DARYA</h1> {% endcomment %}
																					</button>
																				
																		{% comment %} <span class="accordion-header-icon showLabel_{{node.id}}">
																			
																		<i class="fa-solid fa-bars"></i>
																		{{ node.title}}
																		</span> {% endcomment %}
																	
																	
																	
																</div>
<div id="collapse-{{node.id}}" class="accordion-collapse collapse" aria-labelledby="heading-1" data-bs-parent="#accordionExample-1" style="">
																		<div class="accordion-body dd-content">
																			
																			<div class="row">
																				<div class="col-xl-12">
																						<div class="mb-3">
																							<label class="form-label">Navigation Label</label>
																							<input type="text" name="item_label{{node.id}}" class="form-control itemLabel" id="MenuItem{{node.id}}Title" value="Home" rel="{{node.id}}">
																							
																						</div>	
																				</div>
																				<div class="col-xl-6 XTitleAttribute" style="">
																						<div class="mb-3">
																							<label class="form-label">Title Attribute</label>
																							<input type="text" name="item_title_attribute{{node.id}}" class="form-control" id="MenuItem{{node.id}}TitleAttribute" value="">
																						</div>
																				</div>
																				<div class="col-xl-6 XClassAttribute" style="">
																						<div class="mb-3">
																							<label class="form-label">Class Attribute</label>
																							<input type="text" name="item_class_attribute{{node.id}}" class="form-control" id="MenuItem{{node.id}}ClassAttribute" value="">
																						</div>
																				</div>
																				<div class="col-xl-12 XTargetAttribute" style="">

																					<div class="form-check custom-checkbox mb-3">
																					
																						<input type="hidden" name="item_target_attribute{{node.id}}" id="MenuItem{{node.id}}TargetAttribute" class="form-check-input" value="0">
																						<input type="checkbox" name="item_target_attribute{{node.id}}" id="MenuItem{{node.id}}TargetAttribute" class="form-check-input" value="1">
																						<label class="form-check-label" for="MenuItem{{node.id}}TargetAttribute">open in new tab</label>
																					
																					</div>
																				</div>
																				<div class="col-xl-12 XDescription" style="">
																						<div class="mb-3">
																							<label class="form-label">Description</label>
																							<textarea name="item_description{{node.id}}" class="form-control" rows="4" id="MenuItem{{node.id}}Description"></textarea>
																						</div>
																				</div>
																				
																				<div class="d-flex align-items-center">
																					
																					<a href="javascript:void(0);" class="RemoveItem text-primary" rel="{{node.id}}" item-name="Home">Remove</a><span class="mx-2">|</span>
																					
																					<a href="javascript:void(0);" class="CancelItem">Cancel</a>            
																				</div>
																			</div>
																			
																		</div>
																	</div>
														</li>
														{% endrecursetree %} 
														</ol>
													</div>
												</form>
											</div>
										</div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>


<!--**********************************
	Content body end
***********************************-->


{% comment %} {% block extra_scripts %} {% endcomment %}
    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->

<script type="text/javascript">
	var CSRF_TOKEN = '{{ csrf_token }}';

	var screenOptionArray = JSON.stringify({{ ScreenOption|safe }});
	console.log(screenOptionArray);

	var search_menus_url = '{% url 'dashboard:menu:search_menu' %}';
	var menu_item_update_url = '/dashboard/menus/menu_item_update/';
	var menu_item_delete_url = '{% url 'dashboard:menu:menu_item_delete' %}'; 
	var custom_link_add_to_menu_url = '/dashboard/menus/custom_link_add_to_menu/';
	var category_add_to_menu_url = '/dashboard/menus/category_add_to_menu/';
	var blog_add_to_menu_url = '/dashboard/menus/blog_add_to_menu/';
	var page_add_to_menu_url = '/dashboard/menus/page_add_to_menu/';
	var menu_structure_save_url = '{% url 'dashboard:menu:menu_structure_save' %}';
	var menu_delete_url = '{% url 'dashboard:menu:menu_delete' %}';

</script>


{% endblock content %}

{% block additional_js %}
{% endblock additional_js %}
